{% extends "flashcards/base.html" %}

{% block content %}
    <style>
        .word-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-top: 20px;
        }
        .word-table th, .word-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        .word-table th {
            background-color: #4CAF50;
            color: white;
        }
        .word-table tr:hover {
            background-color: #f5f5f5;
        }
        .stats {
            margin-bottom: 20px;
            font-style: italic;
            color: #666;
        }
        .empty-message {
            text-align: center;
            padding: 40px;
            color: #666;
        }
    </style>

    <h1>所有单词 (Все слова)</h1>
    <div class="stats">总共 {{ words_count }} 个单词 (Всего слов: {{ words_count }})</div>

    {% if words %}
        <table class="word-table">
            <thead>
                <tr>
                    <th>汉字 (Иероглифы)</th>
                    <th>拼音 (Пиньинь)</th>
                    <th>翻译 (Перевод)</th>
                    <th>类别 (Категория)</th>
                    <th>操作 (Действия)</th>
                </tr>
            </thead>
            <tbody>
                {% for word in words %}
                <tr>
                    <td style="font-size: 24px;">{{ word.hanzi }}</td>
                    <td>{{ word.pinyin }}</td>
                    <td>{{ word.translation }}</td>
                    <td>{{ word.category|default:"未指定" }}</td>
                     <td>
                        <a href="{% url 'edit_word' word.id %}" style="color: #2196F3; text-decoration: none; margin-right: 10px;">✏️ 编辑</a>
                        <form method="post" action="{% url 'delete_word' word.id %}" style="display: inline;" onsubmit="return confirm('确定删除 {{ word.hanzi }} 吗？');">
                            {% csrf_token %}
                            <button type="submit" style="color: #f44336; border: none; background: none; cursor: pointer;">🗑️ 删除</button>
                        </form>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <div class="empty-message">
            <h3>还没有单词。添加第一个单词吧！</h3>
            <p>(Слов пока нет. Добавьте первое слово!)</p>
            <a href="{% url 'search_word' %}">🔍 搜索单词 (Найти слово)</a>
        </div>
    {% endif %}
{% endblock %}